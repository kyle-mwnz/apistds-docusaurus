<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-api-design-development/APIDesign" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.3">
<title data-rh="true">APIDesign | HelloWorld</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://your-docusaurus-test-site.com/apistds-docusaurus/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://your-docusaurus-test-site.com/apistds-docusaurus/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://your-docusaurus-test-site.com/apistds-docusaurus/docs/next/api-design-development/APIDesign"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="APIDesign | HelloWorld"><meta data-rh="true" name="description" content="API Design"><meta data-rh="true" property="og:description" content="API Design"><link data-rh="true" rel="icon" href="/apistds-docusaurus/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://your-docusaurus-test-site.com/apistds-docusaurus/docs/next/api-design-development/APIDesign"><link data-rh="true" rel="alternate" href="https://your-docusaurus-test-site.com/apistds-docusaurus/docs/next/api-design-development/APIDesign" hreflang="en"><link data-rh="true" rel="alternate" href="https://your-docusaurus-test-site.com/apistds-docusaurus/docs/next/api-design-development/APIDesign" hreflang="x-default"><link rel="stylesheet" href="/apistds-docusaurus/assets/css/styles.b3c64706.css">
<link rel="preload" href="/apistds-docusaurus/assets/js/runtime~main.2ac85bc1.js" as="script">
<link rel="preload" href="/apistds-docusaurus/assets/js/main.4907e3ff.js" as="script">
</head>
<body class="navigation-with-keyboard" data-theme="light">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/apistds-docusaurus/"><div class="navbar__logo"><img src="/apistds-docusaurus/img/logo.svg" alt="HelloWorld Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/apistds-docusaurus/img/logo.svg" alt="HelloWorld Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">HelloWorld</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/apistds-docusaurus/docs/next/intro">Content</a><div class="navbar__item dropdown dropdown--hoverable"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/apistds-docusaurus/docs/next/intro">Next</a><ul class="dropdown__menu"><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/apistds-docusaurus/docs/next/api-design-development/APIDesign">Next</a></li><li><a class="dropdown__link" href="/apistds-docusaurus/docs/api-design-development/APIDesign">1.4.0</a></li><li><a class="dropdown__link" href="/apistds-docusaurus/docs/1.3.0/api-design-development/APIDesign">1.3.0</a></li><li><a class="dropdown__link" href="/apistds-docusaurus/docs/1.2.0/intro">1.2.0</a></li><li><a class="dropdown__link" href="/apistds-docusaurus/docs/1.1.0/intro">1.1.0</a></li><li><a class="dropdown__link" href="/apistds-docusaurus/docs/1.0.0/intro">1.0.0</a></li><li><a class="dropdown__link" href="/apistds-docusaurus/versions">All versions</a></li></ul></div></div><div class="navbar__items navbar__items--right"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><div class="dsla-search-wrapper"><div class="dsla-search-field" data-tags="default,docs-default-current"></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/apistds-docusaurus/docs/next/intro">Home</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/apistds-docusaurus/docs/next/category/api-design-and-development-standards">API Design and Development Standards</a><button aria-label="Toggle the collapsible sidebar category &#x27;API Design and Development Standards&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/apistds-docusaurus/docs/next/api-design-development/APIArtefacts">APIArtefacts</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/apistds-docusaurus/docs/next/api-design-development/APIDesign">APIDesign</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/apistds-docusaurus/docs/next/api-design-development/Architecturaland Deployment Patterns">Architecturaland Deployment Patterns</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/apistds-docusaurus/docs/next/api-design-development/HTTPVerbs">HTTPVerbs</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/apistds-docusaurus/docs/next/api-design-development/URIConstruction">URIConstruction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/apistds-docusaurus/docs/next/api-design-development/HTTPHeaders">HTTPHeaders</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/apistds-docusaurus/docs/next/api-design-development/ReturnedContent">ReturnedContent</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/apistds-docusaurus/docs/next/api-design-development/Considerationof state">Considerationof state</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/apistds-docusaurus/docs/next/api-design-development/BatchHandling &amp; Transactions">BatchHandling &amp; Transactions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/apistds-docusaurus/docs/next/api-design-development/APIVersion Control">APIVersion Control</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/apistds-docusaurus/docs/next/category/api-security">API Security</a><button aria-label="Toggle the collapsible sidebar category &#x27;API Security&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/apistds-docusaurus/docs/next/category/diagrams">Diagrams</a><button aria-label="Toggle the collapsible sidebar category &#x27;Diagrams&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="theme-doc-version-banner alert alert--warning margin-bottom--md" role="alert"><div>This is unreleased documentation for <!-- -->HelloWorld<!-- --> <b>Next</b> version.</div><div class="margin-top--md">For up-to-date documentation, see the <b><a href="/apistds-docusaurus/docs/api-design-development/APIDesign">latest version</a></b> (<!-- -->1.4.0<!-- -->).</div></div><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/apistds-docusaurus/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/apistds-docusaurus/docs/next/category/api-design-and-development-standards"><span itemprop="name">API Design and Development Standards</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">APIDesign</span><meta itemprop="position" content="2"></li></ul></nav><span class="theme-doc-version-badge badge badge--secondary">Version: Next</span><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>APIDesign</h1></header><h2 class="anchor anchorWithStickyNavbar_LWe7" id="api-design">API Design<a href="#api-design" class="hash-link" aria-label="Direct link to API Design" title="Direct link to API Design">​</a></h2><p>Application developers will invest heavily in using your API. They will
invest in learning the design and behaviour of your API, in developing
and testing around your API and may even invest in developing an entire
business model on your API.</p><p>Good API designs will attract more developers. Conversely, bad API
designs will drive away developers and drive up costs -- support costs,
maintenance costs and operating costs.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="when-is-an-api-appropriate">When is an API appropriate?<a href="#when-is-an-api-appropriate" class="hash-link" aria-label="Direct link to When is an API appropriate?" title="Direct link to When is an API appropriate?">​</a></h3><p>In the past, the default reaction to a requirement for capability has
been to develop a web application. This is now gravitating towards APIs
as the default. So, when is it better to build an API than a web
application? Below are some situations where an API may be more
appropriate:</p><ul><li><p>When commercial organisations or NGOs are screen scraping data from
the agency&#x27;s website</p></li><li><p>When the agency holds a single authoritative source of the truth</p></li><li><p>Where there is a need for (near real time) information exchange with
a partner agency</p></li><li><p>When parts of a business process are (or may be) outsourced</p></li><li><p>When the agency&#x27;s service can be included as part of a larger
business process</p></li><li><p>When an agency needs internal systems to interact with cloud-based
COTS solutions (SaaS)</p></li><li><p>Where businesses require easy access to (public) information</p></li><li><p>Where commercial organisations want to build capability into their
own applications which will benefit the public (mobile/web apps)</p></li><li><p>When an agency expects other parties to act as agents or
intermediaries for their services</p></li><li><p>When an agency expects to support service delivery across multiple
channels</p></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="types-of-api">Types of API<a href="#types-of-api" class="hash-link" aria-label="Direct link to Types of API" title="Direct link to Types of API">​</a></h3><p>There are several different types of API and the type you choose may
depend on the technical use cases that you apply to both consumption and
provision of your API.</p><p>+------------+---------------------------------+----------------------+
| API Type   | Description                     | Usage                |
+============+=================================+======================+
| REST       | Representational State Transfer | Creating distributed |
|            | (REST) is the most common and   | system where a set   |
|            | well understood API type. REST  | of API resources are |
|            | should be considered an         | well defined. If     |
|            | architectural style for         | medium latency       |
|            | developing distributed          | resource creation or |
|            | hypermedia systems. There is a  | modification (POST,  |
|            | wealth of information and       | PUT, DELETE) is      |
|            | tooling to support the          | required then        |
|            | definition and creation of REST | typically a REST API |
|            | APIs. Typically, a REST API     | is a better fit.     |
|            | will have a well-defined and    | Typically used for   |
|            | strongly typed schema           | synchronous          |
|            | definition (OpenAPI) where      | interactions.        |
|            | strict compliance can be        |                      |
|            | achieved.                       |                      |
+------------+---------------------------------+----------------------+
| GraphQL    | GraphQL is an open source query | An API that has a    |
|            | and manipulation language       | widely distributed   |
|            | developed by Facebook primarily | client set with a    |
|            | designed to empower API         | variety of data      |
|            | consumers to consume only the   | requirements.        |
|            | data that they require. A       | Particularly well    |
|            | common criticism of REST is     | suited to high read  |
|            | that only the entire resource   | (GET) clients        |
|            | is available for consumption,   |                      |
|            | sometimes referred to as &quot;over  |                      |
|            | fetching&quot;, however with GraphQL |                      |
|            | the client decides the data     |                      |
|            | that it requires. GraphQL also  |                      |
|            | has a strongly typed schema     |                      |
|            | (GraphQL Schema Definition      |                      |
|            | Language -- SDL).               |                      |
+------------+---------------------------------+----------------------+
| As         | AsyncAPI is an open source      | Creating distributed |
| ynchronous | initiative to create an         | systems where a set  |
| APIs       | event-driven and asynchronous   | of API resources are |
|            | API standardization and         | well defined.        |
|            | development tooling.            | Typically used for   |
|            | The AsyncAPI specification,     | asynchronous         |
|            | inspired by the OpenAPI         | interactions and     |
|            | specification, describes and    | event driven         |
|            | documents event-driven APIs in  | architectures. Also, |
|            | a machine-readable format.      | useful when          |
|            |                                 | developing APIs that |
|            |                                 | front workflows or   |
|            |                                 | long running         |
|            |                                 | orchestrations.      |
+------------+---------------------------------+----------------------+
| gRPC       | gRPC is a modern open source    | Creating distributed |
|            | high performance Remote         | systems that require |
|            | Procedure Call (RPC) framework  | highly performant    |
|            | that can run in any             | and scalable API\&#x27;s. |
|            | environment.                    | gRPC makes use of    |
|            |                                 | binary data rather   |
|            | In gRPC, a client application   | than just text which |
|            | can directly call a method on a | makes the            |
|            | server application on a         | communication more   |
|            | different machine as if it were | compact and more     |
|            | a local object, making it       | efficient.           |
|            | easier for you to create        |                      |
|            | distributed applications and    |                      |
|            | services. This is enabled by a  |                      |
|            | formal Interface Definition     |                      |
|            | Language (IDL). gRPC utilizes   |                      |
|            | Protocol Buffers by default,    |                      |
|            | you can make it work with other |                      |
|            | data formats, such as JSON.     |                      |
+------------+---------------------------------+----------------------+</p><p>[]{#_heading=h.1d96cc0 .anchor}<em>Table 19: Types of API</em></p><p>Example Technical Use Case Synchronous/Asynchronous API</p><p>The illustrative example below demonstrates a combination of a
synchronous API and an asynchronous API.</p><p>[]{#_heading=h.2ce457m .anchor}<em>Figure 48: Asynchronous Claims API</em></p><p>The example above has 2 associated API specifications. The first is an
OpenAPI specification that describes the &quot;Create Claim&quot; and &quot;Get Claim&quot;
RESTful interactions and the second is an AsyncAPI specification that
describes the &quot;Receive Updates&quot; interaction. These example
specifications have been provided in the appendix of this document for
reference -- see <a href="#_heading=h.2vor4mt">[Synchronous/Asynchronous Example
Specifications]{.underline}</a></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="api-design-principles">API Design Principles<a href="#api-design-principles" class="hash-link" aria-label="Direct link to API Design Principles" title="Direct link to API Design Principles">​</a></h3><p>This section assumes that API Principles defined in section 4 of Part A
of this standard have already been read.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="future-focused-design">Future-Focused Design <a href="#future-focused-design" class="hash-link" aria-label="Direct link to Future-Focused Design " title="Direct link to Future-Focused Design ">​</a></h4><p>APIs should not be tightly coupled to legacy applications, exposing
whatever capabilities the legacy system offered. Nor should they be
designed to work in the way the legacy system currently works.</p><p>Instead they should be consumer driven -- so built to expose the
resources that consumers need, whether those resources are in legacy
systems or new. There should not be a drive to expose an entire product
via the API, or wait for the perfect backend system to be available.
Just offer as much as is practically useful, then evolve it to meet
needs. Design the API interface to be abstracted from the backend, so
that backend systems can be changed or replaced over time without
needing to change the interface.</p><p>The aim is to be future-focused (whilst still pragmatic) and develop
APIs to meet future needs. A good example of being future focussed is
building APIs to support HATEOAS (Hypermedia as the Engine of
Application State). This is where an API, in response to a consuming
application\&#x27;s request, is programmed to return hyperlinks (URLs) which
indicate the options for subsequent actions or information. See
<a href="#hateoas">[section 2.7.7]{.underline}</a> for more details on HATEOAS.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="layering">Layering<a href="#layering" class="hash-link" aria-label="Direct link to Layering" title="Direct link to Layering">​</a></h4><p>When designing and developing an API it is important to consider that an
API is made up of distinct functional layers:</p><ul><li><p>Security</p></li><li><p>Caching</p></li><li><p>Representation</p></li></ul><h5 class="anchor anchorWithStickyNavbar_LWe7" id="security">Security<a href="#security" class="hash-link" aria-label="Direct link to Security" title="Direct link to Security">​</a></h5><p>Every API will have a security component. It is important to recognise
that this is not only authentication and authorisation for access to an
API, it also includes threat protection (DDoS, SQL Injection, Cross site
scripting etc.) as well as availability and quality of service (QoS).
When designing and developing APIs it is often cost effective to create
a common framework that handles security for all APIs. See the
associated document, Part B, API Security, for more details.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="caching">Caching<a href="#caching" class="hash-link" aria-label="Direct link to Caching" title="Direct link to Caching">​</a></h5><p>Caching can dramatically improve the performance of an API. When
designing APIs consider what, when and where to cache. Understanding how
data is changed and how often it is changed is an important
consideration, as well as which layer it is most appropriate to cache
at. A common caching strategy should be developed for APIs that would
benefit from it. See <a href="#caching">[section 2.12]{.underline}</a> for more
details.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="representation">Representation<a href="#representation" class="hash-link" aria-label="Direct link to Representation" title="Direct link to Representation">​</a></h5><p>When designing and developing an API it is important to consider the
representation of that API. This commonly includes an interface
specification that fully describes the API. To ensure the success of an
API it should be easy to consume driving a well-considered
representation layer.</p><p>[]{#_heading=h.2jxsxqh .anchor}<em>Figure 49: API Layering</em></p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="standards-based">Standards-Based<a href="#standards-based" class="hash-link" aria-label="Direct link to Standards-Based" title="Direct link to Standards-Based">​</a></h4><p>Web standards have rapidly become powerful agreements, which span not
just local regions but are internationally accepted and enable
commonality and consistency. Using standard HTTP and URLs, the core
technologies of the web, along with standards such as JSON and OAuth
ensures that agencies are not creating bespoke or proprietary
technologies.</p><p>Hence the principle is to build to the latest versions of existing open
and accepted standards e.g. </p><ul><li><p>HTTP</p></li><li><p>OpenAPI</p></li><li><p>AsyncAPI</p></li><li><p>REST</p></li><li><p>JSON</p></li><li><p>OAuth</p></li><li><p>OIDC</p></li></ul><p>Refer to the <a href="#_heading=h.3hej1je">[appendix]{.underline}</a> for detailed
information about relevant standards.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="designing-an-api">Designing an API<a href="#designing-an-api" class="hash-link" aria-label="Direct link to Designing an API" title="Direct link to Designing an API">​</a></h3><p>When designing an API, it is important to perform business process
analysis to ensure that API development is business-driven rather than
technology-driven. Technology driven projects rarely meet customers&#x27;
needs in the long run, so it important to gain background in who could
be using the API, for what. As mentioned previously, co-design is
fundamental to driving the right API development. To help identify
potential partners to involve in the co-design, consider:</p><ul><li><p>processes which currently depend on information the API could expose</p></li><li><p>processes which require a capability an API could expose</p></li></ul><p>Some actors will be human (e.g. application developers) whilst some
actors will be the systems which will interact with, or depend on, the
API. There may be different types of actors, some public sector, some
commercial entities, some public.</p><p>When representatives for the potential actors are identified, start
co-designing with these representatives. First and foremost, consider
the requirements for the API. Application developers often couch their
requirements in terms of how the API should work, rather than what the
API needs to do. Don&#x27;t get bogged down in the variety of proposed
solutions from each developer: focus on extracting their true
requirements by performing functional analysis (e.g. use cases) and data
flow analysis. Then identify resources and work out the granularity
needed (see sections <a href="#designing-an-api">[2.2.4 Designing an
API]{.underline}</a> &amp; <a href="#granularity">[2.2.7
Granularity]{.underline}</a>).</p><p>It is especially important that security and information privacy impacts
are identified up front and addressed early on in the design process.
Assess the information being passed and the types of access different
customers and/or consuming applications should have to the API. This
will help drive development of security policies alongside the design of
the API.</p><p>One common pitfall in API design is to map all existing data tables onto
resources and develop the associated CRUD capabilities into an API.
Usually this results in a poor API design and tightly couples the API
design to the underlying data structure. Another common pitfall is to
design APIs as an extension to, or way into, monolithic legacy systems.
This should be avoided as it tightly couples the API to the legacy
system. Both of these pitfalls will create issues for both provider and
consumers in the long term.</p><p>At this point in the design process, agility is probably more important
than completeness. Share early design thoughts and interface
specifications with the developer community and quickly make changes in
response to their feedback. Work through some sequence diagrams with
them to help pin down API interactions and inform API design thinking.</p><p>The correct API design will likely not please every developer, so don&#x27;t
try to be all things to all developers. A rule of thumb is that you are
probably on the right track if most developers are a <em>little</em> unhappy,
but all are able to achieve their aims with the proposed design.</p><p>It is important not to try to bypass evolution steps and try to build
for all potential use cases right from the offset. For a more measured
progression towards API delivery, start simple and focus on a single
channel or interaction initially. By building onto these simple building
blocks, API evolution over time naturally progress towards omnichannel
applications. </p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="design-considerations">Design Considerations<a href="#design-considerations" class="hash-link" aria-label="Direct link to Design Considerations" title="Direct link to Design Considerations">​</a></h3><p>The following considerations emerge when looking to develop APIs in the
public sector:</p><ul><li><p>Understand your data, understand your consumers. Before starting
work on APIs, gain a good understanding of what data you hold, the
complexity of that data, its relationships to other data, the
downstream dependents on that data and potential consumers of the
data. It is also a good idea to understand your consumers\&#x27; drivers
and downstream usage or customers. </p></li><li><p>Design for REST. If the interaction appears RESTful then develop a
REST API, e.g. one-to-many. In some cases however, a gRPC or GraphQL
API may be appropriate and are supported by this document. REST APIs
are widely understood, easier to govern and suitable for most
interoperability use cases. It is also important to note here that
if there is an appropriate supported standard such as Fast Health
Interoperability Resource (FHIR) then the resources defined in that
standard should be used rather than a set of agency defined
resources.</p></li><li><p>The information supplied via an API may still be dependent on
overnight batch processes for update. It is worth making the
information&#x27;s timeliness and update period clear to potential
consumers of the API.</p></li><li><p>APIs should not be used to handle large batch transfers because of
the atomic nature of the usage i.e. if one single data write fails
then the whole batch fails. APIs work better for multiple individual
update transactions.</p></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="design-driven-development">Design Driven Development<a href="#design-driven-development" class="hash-link" aria-label="Direct link to Design Driven Development" title="Direct link to Design Driven Development">​</a></h3><p><strong>[Required]<!-- -->{.smallcaps}</strong></p><p>When building APIs, a Design Driven Approach must be taken.</p><p>This includes:</p><ul><li><p>Interface specification first</p></li><li><p>Iterative approach</p></li><li><p>Continuous integration/testing</p></li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="interface-specification-first">Interface Specification First<a href="#interface-specification-first" class="hash-link" aria-label="Direct link to Interface Specification First" title="Direct link to Interface Specification First">​</a></h4><p>The best way to design an API is in collaboration with potential
consumers of that API. Creating the interface specification first makes
it easier for application developers to see what the API is going to
offer and how it could be used. Their early feedback will ensure that
the API design is heading on the right track and will be usable and
appropriate to their needs. Using a simple modelling language to define
the interface specification makes it easy to view and edit API
definitions. See <a href="#interface-specification">[section 2.2.8]{.underline}</a>
for more information about defining interface specifications.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="iterative-approach">Iterative Approach<a href="#iterative-approach" class="hash-link" aria-label="Direct link to Iterative Approach" title="Direct link to Iterative Approach">​</a></h4><p>It has been acknowledged that big bang releases rarely deliver business
or customer benefit. An iterative approach, with ongoing releases
offering gradual improvement or evolving capability, gives a finer tuned
delivery, better sense of momentum, illustrates progress and enables
third parties to coordinate efforts with API developments. ICT.govt.nz
Accelerate
(<a href="https://www.ict.govt.nz/guidance-and-resources/accelerate/" target="_blank" rel="noopener noreferrer">[https://www.ict.govt.nz/guidance-and-resources/accelerate/]{.underline}</a>)
offers a framework which supports this kind of development and has
guidance on how to deliver transformational projects.</p><p>An iterative approach incorporates continuous improvement, which
recognises the need to support continuing evolvement of the API beyond
the first delivery. The API is a product whose capabilities should
undergo continuing improvements based on consumer feedback, performance
analytics and emerging needs. This aligns to Phase 6 in the Accelerate
framework.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="automation-first">Automation First<a href="#automation-first" class="hash-link" aria-label="Direct link to Automation First" title="Direct link to Automation First">​</a></h4><p>Automation provides a quick turnaround for informing API developers
about breaking changes being submitted by developers who are all working
on the same code base or product (e.g. API). The idea is that all
developers submit code changes as often as possible (e.g. into a version
control system), allowing code to go through an automated, integrated
build process which ensures that nothing has broken the build. This
build process could happen many times a day. Any errors are quickly
identified and alerted to the team who can rectify them in a timely
fashion.</p><p>Tests can be written against the interface specification quite early on
in the development process by developing just enough API code to enable
the test to be run (stubs). The tests can then be incorporated into the
automated build process, giving early warning of regression test
failures. API code should not be able to progress through SDLC
environments until successful test execution.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="granularity">Granularity<a href="#granularity" class="hash-link" aria-label="Direct link to Granularity" title="Direct link to Granularity">​</a></h3><p>There is a question as to how fine-grained an API resource should
be. APIs should be designed at the lowest practical level of granularity
because this makes each service simpler and allows them to be combined
in ways that suit the application developer. The key principle is to
design services that can be re-used and combined in different ways, and
not tie the application developer to a specific way of working or
sequence of API consumption just because that is how it is configured or
built in the back end.</p><p>If an API offers very fine-grained resources, then consuming
applications end up having to make many more calls to the API in order
to collect all the information they need, resulting in chattier
communications. On the other hand, if the API is based on very coarse
grained resources (returning everything about the resource) the response
payloads could end up being enormous, may not support all API
application developers&#x27; needs, and the API could become cumbersome to
use and maintain.</p><p>There may also be a need for varying granularity within one API,
depending on the purpose and use of that API. For example, if a blogging
API was being created, it may make sense to offer a coarse grained
resource for posting a new blog entry as a bundle of content including
pictures, sound, keywords as well as the textual blog entry. But when
offering the ability to like or comment on a blog entry it would make
sense, for clarity and ease of use, to offer these as separate
sub-resources, one for indicating a \&#x27;like\&#x27; and one for submitting a
comment.  </p><p>It is important to aim for a granularity which will prevent business
logic from leaking into the API e.g. requiring API calls to be made in a
certain sequence to meet with internal business processes. With the
blogging example, consider the impact of a fine-grained API being
offered for posting blog entries, with separate calls for adding images,
sounds and metadata. If metadata is mandatory, then the API application
developer needs to ensure that every blog post call is followed by a
metadata call. This puts the onus on the application developer to get
the sequence of calls correct and could lead to inconsistent data if
they do not adhere to the rules. It also leads to close coupling between
the consuming application and the API, and if the business logic changes
in the future there is a downstream impact on all application
developers, requiring them to modify their applications.</p><p>General guidelines are:</p><ul><li><p>Don\&#x27;t aim for the finest granularity - an API should be built
around each discrete and updateable resource</p></li><li><p>There does not need to be a one-to-one mapping between a manual
service and a corresponding API; APIs should support the process but
not try to encapsulate the process</p></li><li><p>A rough guide is to have one API operation for each entity lifecycle
state transition</p></li><li><p>Resources can be identified by reviewing a business process and
identifying the key entities which underpin the process. Any
entities which the organisation manages or maintains throughout its
full lifecycle will be potential API resources. There is typically
one API operation for each entity lifecycle state transition.</p></li><li><p>There should be only one API function for one business outcome (e.g.
change an address)</p></li><li><p>Consider using query parameters in URLs for different granularity of
resources. For example, /passengers.json could return a list of
names, whilst /passengers.json?detail=full could return detailed
information about each passenger in a list.</p></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="interface-specification">Interface Specification<a href="#interface-specification" class="hash-link" aria-label="Direct link to Interface Specification" title="Direct link to Interface Specification">​</a></h3><p>An API represents a contract between the provider and the consumer for
access to provider resources. Because API consumption is a programmatic
exercise, it is important to have a clear definition of what the API
offers and how those API resources are to be accessed. This definition
is the interface specification. </p><p>The interface specification should be designed in advance of developing
the API, as the act of working out the specification often helps think
through all the issues that could impact the design of the underlying
resource-handling code. It also helps consuming application developers
to review the capabilities being offered to see if the capabilities meet
their needs before they start developing to the specification. When
outsourcing API development, the interface specification can be written
in abstract as a means of defining the API the vendor should build. The
specification can be handled as a separate entity, is version
controllable, and it should be possible to use it as the main API
documentation or reference.  </p><p>There are several API modelling languages available for defining the
interface specification. Some are proprietary (e.g. RAML, API Blueprint)
whilst others are machine-readable but not human readable (e.g. WADL).
The most commonly used API modelling language today is an open standard
known as the OpenAPI Specification (formerly Swagger) maintained by the
Open API Initiative. This initiative is supported by many of the main
commercial entities in IT (Google, IBM, Microsoft, Atlassian, Paypal
etc.). It offers a standard, programming language-agnostic (JSON/YAML)
interface to REST APIs which allows both humans and computers to
discover and understand the capabilities of the service. For an example
of a Swagger interface specification see Appendix C - Example Interface
Specification.</p><p>It is important to use a modelling language to define the API interface
specification as essentially it is text or code and can be maintained
using source code management systems.</p><p><strong>[Recommended]<!-- -->{.smallcaps}</strong></p><p>Use <a href="https://openapis.org/" target="_blank" rel="noopener noreferrer">[OpenAPI/Swagger]{.underline}</a> as the
interface specification language for all APIs being developed.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="orchestration">Orchestration<a href="#orchestration" class="hash-link" aria-label="Direct link to Orchestration" title="Direct link to Orchestration">​</a></h3><p>As a general rule using APIs as an orchestration tool is not
recommended. This is due to the complexity that this can introduce to an
API architecture. That said, however, simple orchestration may in some
cases be appropriate. An example of this may be a mashup API that
creates a new logical API resource by combining related data held in two
or more back end systems.</p><p>A mashup is not appropriate when you create an API that merges two
distinct API products together. If a consumer requires this
functionality the mashup should be performed by the consuming
application.</p><p>Other examples of simple orchestration could include mediation such as
message transformation (JSON to XML or canonical message model
transformation).</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="software-development-kits-sdk">Software Development Kits (SDK)<a href="#software-development-kits-sdk" class="hash-link" aria-label="Direct link to Software Development Kits (SDK)" title="Direct link to Software Development Kits (SDK)">​</a></h3><p><strong>[Recommended]<!-- -->{.smallcaps}</strong></p><p>It is recommended that API Providers offer an SDK to developers of
consuming applications.</p><p>An SDK can be considered the implementation toolset for use of an
agency&#x27;s APIs. By providing developers with an SDK they can build
applications faster without having to understand all of the API&#x27;s
complexities. An SDK should provide sample code that explains the
functionality of your API to potential application developers.</p><p>An example of a public service API SDK can be found at the [<a href="http://usdepartmentoflabor.github.io/Ruby-Sample-App/" target="_blank" rel="noopener noreferrer">US
Department of Labour GitHub
repository</a>]{.underline}
Publication/Catalogue</p><p>Once an API is in sufficient state to be offered to API consumers, the
API definition should be published to an API catalogue. The primary API
discoverer is the developer, so an external API must be well documented,
and provide accurate and up-to-date guidance via the catalogue.</p><p>Government are considering options for a central point of discovery for
externally accessible public sector APIs.</p><p><strong>[Recommended]<!-- -->{.smallcaps}</strong></p><p>Publishing to a catalogue is recommended for internal APIs.</p><p><strong>[Required]<!-- -->{.smallcaps}</strong></p><p>Publishing to a catalogue is required for external APIs.</p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/apistds-docusaurus/docs/next/api-design-development/APIArtefacts"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">APIArtefacts</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/apistds-docusaurus/docs/next/api-design-development/Architecturaland Deployment Patterns"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Architecturaland Deployment Patterns</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#api-design" class="table-of-contents__link toc-highlight">API Design</a><ul><li><a href="#when-is-an-api-appropriate" class="table-of-contents__link toc-highlight">When is an API appropriate?</a></li><li><a href="#types-of-api" class="table-of-contents__link toc-highlight">Types of API</a></li><li><a href="#api-design-principles" class="table-of-contents__link toc-highlight">API Design Principles</a></li><li><a href="#designing-an-api" class="table-of-contents__link toc-highlight">Designing an API</a></li><li><a href="#design-considerations" class="table-of-contents__link toc-highlight">Design Considerations</a></li><li><a href="#design-driven-development" class="table-of-contents__link toc-highlight">Design Driven Development</a></li><li><a href="#granularity" class="table-of-contents__link toc-highlight">Granularity</a></li><li><a href="#interface-specification" class="table-of-contents__link toc-highlight">Interface Specification</a></li><li><a href="#orchestration" class="table-of-contents__link toc-highlight">Orchestration</a></li><li><a href="#software-development-kits-sdk" class="table-of-contents__link toc-highlight">Software Development Kits (SDK)</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/apistds-docusaurus/docs/intro">Tutorial</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://discordapp.com/invite/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/apistds-docusaurus/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2023 My Project, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/apistds-docusaurus/assets/js/runtime~main.2ac85bc1.js"></script>
<script src="/apistds-docusaurus/assets/js/main.4907e3ff.js"></script>
</body>
</html>